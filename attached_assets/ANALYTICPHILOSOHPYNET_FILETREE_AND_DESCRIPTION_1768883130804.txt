ANALYTICPHILOSOHPY.NET FILETREE AND DESCRIPTION 

ask-a-philosopher/
â”‚
â”œâ”€â”€ ðŸ“ client/                          # FRONTEND (React + TypeScript)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ App.tsx                     # Main app component, routing, layout
â”‚       â”œâ”€â”€ main.tsx                    # React entry point
â”‚       â”œâ”€â”€ index.css                   # Global styles, dark mode, Tailwind
â”‚       â”‚
â”‚       â”œâ”€â”€ ðŸ“ components/
â”‚       â”‚   â”œâ”€â”€ audit-panel.tsx         # Live audit panel showing RAG search events
â”‚       â”‚   â”œâ”€â”€ chat-input.tsx          # Message input with file upload
â”‚       â”‚   â”œâ”€â”€ chat-message.tsx        # Individual chat bubble rendering
â”‚       â”‚   â”œâ”€â”€ figure-chat.tsx         # Philosopher conversation interface
â”‚       â”‚   â”œâ”€â”€ welcome-screen.tsx      # Landing/welcome UI
â”‚       â”‚   â”œâ”€â”€ what-to-ask-modal.tsx   # Suggested questions modal
â”‚       â”‚   â”œâ”€â”€ theme-toggle.tsx        # Dark/light mode switch
â”‚       â”‚   â”œâ”€â”€ thinking-panel.tsx      # AI "thinking" visualization
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ ðŸ“ sections/            # SEVEN CORE FEATURES
â”‚       â”‚   â”‚   â””â”€â”€ debate-creator-section.tsx   # Debate between philosophers
â”‚       â”‚   â”œâ”€â”€ dialogue-creator-section.tsx     # Multi-philosopher dialogues
â”‚       â”‚   â”œâ”€â”€ interview-creator-section.tsx    # Interview generation
â”‚       â”‚   â”œâ”€â”€ model-builder-section.tsx        # Custom philosopher model builder
â”‚       â”‚   â”œâ”€â”€ paper-writer-section.tsx         # Academic paper generation
â”‚       â”‚   â”œâ”€â”€ quote-generator-section.tsx      # Extract quotes from corpus
â”‚       â”‚   â””â”€â”€ position-generator-section.tsx   # Generate philosophical positions
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ðŸ“ ui/                  # SHADCN UI COMPONENTS (50+ components)
â”‚       â”‚       â”œâ”€â”€ button.tsx, card.tsx, dialog.tsx, sidebar.tsx...
â”‚       â”‚
â”‚       â”œâ”€â”€ ðŸ“ data/                    # TOPIC SUGGESTIONS (45+ files)
â”‚       â”‚   â”œâ”€â”€ kuczynski-topics.ts     # Suggested questions for Kuczynski
â”‚       â”‚   â”œâ”€â”€ freud-topics.ts         # Suggested questions for Freud
â”‚       â”‚   â”œâ”€â”€ jung-topics.ts          # Suggested questions for Jung
â”‚       â”‚   â””â”€â”€ [40+ more philosopher-topics.ts files]
â”‚       â”‚
â”‚       â”œâ”€â”€ ðŸ“ hooks/
â”‚       â”‚   â”œâ”€â”€ useAuth.ts              # Authentication state management
â”‚       â”‚   â””â”€â”€ use-toast.ts            # Toast notification hook
â”‚       â”‚
â”‚       â”œâ”€â”€ ðŸ“ lib/
â”‚       â”‚   â”œâ”€â”€ queryClient.ts          # TanStack Query setup
â”‚       â”‚   â””â”€â”€ utils.ts                # Utility functions
â”‚       â”‚
â”‚       â””â”€â”€ ðŸ“ pages/
â”‚           â”œâ”€â”€ chat.tsx                # Main chat page
â”‚           â”œâ”€â”€ landing.tsx             # Welcome landing page
â”‚           â””â”€â”€ not-found.tsx           # 404 page
â”‚
â”œâ”€â”€ ðŸ“ server/                          # BACKEND (Express + Node.js)
â”‚   â”œâ”€â”€ index.ts                        # Server entry point
â”‚   â”œâ”€â”€ routes.ts                       # API endpoints (chat, paper-writer, etc.)
â”‚   â”œâ”€â”€ db.ts                           # PostgreSQL/Drizzle database connection
â”‚   â”œâ”€â”€ storage.ts                      # Data storage interface
â”‚   â”œâ”€â”€ vite.ts                         # Vite dev server integration
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“‚ CORE RAG SYSTEM
â”‚   â”œâ”€â”€ vector-search.ts                # Semantic search with pgvector embeddings
â”‚   â”œâ”€â”€ PhilosopherCoherenceService.ts  # Structured AI response generation
â”‚   â”œâ”€â”€ prompt-builder.ts               # System prompt construction
â”‚   â”œâ”€â”€ audited-search.ts               # Truthful search with 3 sources
â”‚   â”œâ”€â”€ audit-search.ts                 # Search audit logging
â”‚   â”œâ”€â”€ paper-search.ts                 # Paper/document search
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“‚ STANDALONE DATABASES
â”‚   â”œâ”€â”€ nietzsche-db.ts                 # SQLite: 706 Nietzsche positions
â”‚   â”œâ”€â”€ plato-db.ts                     # SQLite: 182 Plato positions
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“‚ EMBEDDING GENERATORS (60+ scripts)
â”‚   â”œâ”€â”€ generate-jung-embeddings.ts     # Generate Jung text embeddings
â”‚   â”œâ”€â”€ generate-freud-embeddings.ts    # Generate Freud text embeddings
â”‚   â”œâ”€â”€ generate-kuczynski-embeddings.ts# Generate Kuczynski embeddings
â”‚   â”œâ”€â”€ [50+ more generate-*-embeddings.ts files]
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“‚ INGESTION SCRIPTS
â”‚   â”œâ”€â”€ ingest.py                       # Main Python ingestion for texts
â”‚   â”œâ”€â”€ ingest-jung-complete.ts         # Jung corpus ingestion
â”‚   â”œâ”€â”€ ingest-nietzsche-complete.ts    # Nietzsche corpus ingestion
â”‚   â”œâ”€â”€ [20+ more ingest-*.ts files]
â”‚   â”‚
â”‚   â””â”€â”€ ðŸ“ data/                        # RAW TEXT CORPORA (by author)
â”‚       â”œâ”€â”€ ðŸ“ kuczynski/               # 100+ Kuczynski text files
â”‚       â”œâ”€â”€ ðŸ“ freud/                   # Freud complete works
â”‚       â”œâ”€â”€ ðŸ“ jung/                    # Jung psychology texts
â”‚       â”œâ”€â”€ ðŸ“ nietzsche/               # Nietzsche philosophy
â”‚       â”œâ”€â”€ ðŸ“ russell/                 # Bertrand Russell works
â”‚       â”œâ”€â”€ ðŸ“ plato/                   # Plato dialogues
â”‚       â””â”€â”€ [30+ more author folders]
â”‚
â”œâ”€â”€ ðŸ“ shared/                          # SHARED TYPES
â”‚   â”œâ”€â”€ schema.ts                       # Drizzle ORM database schema
â”‚   â”‚                                   # Tables: figures, chunks, positions,
â”‚   â”‚                                   # texts, paper_chunks, thinker_quotes,
â”‚   â”‚                                   # argument_statements, users, conversations
â”‚   â””â”€â”€ audit-types.ts                  # Audit event type definitions
â”‚
â”œâ”€â”€ ðŸ“ scripts/                         # UTILITY SCRIPTS
â”‚   â”œâ”€â”€ embed-from-texts-table.ts       # Generate embeddings from texts table
â”‚   â”œâ”€â”€ strict-embed-authors.ts         # Author-isolated embedding with logging
â”‚   â”œâ”€â”€ chunk-and-insert.ts             # Text chunking utility
â”‚   â”œâ”€â”€ test-paper-writer-all.ts        # Test paper writer for all philosophers
â”‚   â”œâ”€â”€ test-single.ts                  # Test single philosopher
â”‚   â””â”€â”€ run-paper-tests.ts              # Batch paper generation tests
â”‚
â”œâ”€â”€ ðŸ“ PY_FILES/                        # PYTHON PROCESSING ENGINES
â”‚   â”œâ”€â”€ kuczynski_engine.py             # Kuczynski text processing
â”‚   â”œâ”€â”€ freud_engine.py                 # Freud text analysis
â”‚   â”œâ”€â”€ nietzsche_engine.py             # Nietzsche text processing
â”‚   â”œâ”€â”€ adler_engine.py                 # Alfred Adler processing
â”‚   â”œâ”€â”€ aesop_engine.py                 # Aesop fables processing
â”‚   â””â”€â”€ ingest.py                       # Main Python ingestion script
â”‚
â”œâ”€â”€ ðŸ“ RULES_FULL/                      # PHILOSOPHER PERSONALITY RULES
â”‚   â”œâ”€â”€ kuczynski_rules_full.json       # Kuczynski response rules
â”‚   â”œâ”€â”€ freud_rules_full.json           # Freud response rules
â”‚   â”œâ”€â”€ nietzsche_rules_full.json       # Nietzsche response rules
â”‚   â””â”€â”€ [4 more philosopher rules files]
â”‚
â”œâ”€â”€ ðŸ“ database/
â”‚   â””â”€â”€ ðŸ“ ingest/                      # Drop files here for ingestion
â”‚
â”œâ”€â”€ ðŸ“ logs/                            # Embedding and processing logs
â”‚
â”œâ”€â”€ ðŸ“ [author]-texts/                  # RAW TEXT IMPORTS (staging)
â”‚   â”œâ”€â”€ jung-texts/                     # Jung texts to be processed
â”‚   â”œâ”€â”€ freud-texts/                    # Freud texts to be processed
â”‚   â”œâ”€â”€ darwin-texts/                   # Darwin texts to be processed
â”‚   â””â”€â”€ [10+ more author-texts folders]
â”‚
â”œâ”€â”€ ðŸ“ attached_assets/                 # User-uploaded assets
â”œâ”€â”€ ðŸ“ public/                          # Static assets
â”‚
â”œâ”€â”€ ðŸ“„ CONFIG FILES
â”‚   â”œâ”€â”€ package.json                    # Node dependencies
â”‚   â”œâ”€â”€ tsconfig.json                   # TypeScript config
â”‚   â”œâ”€â”€ vite.config.ts                  # Vite bundler config
â”‚   â”œâ”€â”€ tailwind.config.ts              # Tailwind CSS config
â”‚   â”œâ”€â”€ drizzle.config.ts               # Drizzle ORM config
â”‚   â””â”€â”€ replit.md                       # Project documentation
â”‚
â””â”€â”€ ðŸ“„ DATABASE (PostgreSQL with pgvector)
    â”‚
    â”œâ”€â”€ figures              # 60+ philosopher profiles
    â”œâ”€â”€ chunks               # 130,000+ text chunks with embeddings
    â”œâ”€â”€ positions            # Philosophical position statements
    â”œâ”€â”€ texts                # Full-text documents
    â”œâ”€â”€ paper_chunks         # Paper-specific chunks
    â”œâ”€â”€ thinker_quotes       # Notable quotes by thinker
    â”œâ”€â”€ argument_statements  # Structured philosophical arguments
    â”œâ”€â”€ users                # User accounts
    â””â”€â”€ conversations        # Chat history


================================================================================
          ASK A PHILOSOPHER - COMPLETE PROJECT FILE TREE
          Philosophical Q&A Application with 60+ Historical Thinkers
================================================================================

================================================================================
FOLDER STRUCTURE OVERVIEW
================================================================================

ask-a-philosopher/
|
+-- client/                     FRONTEND (React + TypeScript + Vite)
+-- server/                     BACKEND (Express + Node.js)
+-- shared/                     SHARED TYPES (Database schemas)
+-- scripts/                    UTILITY SCRIPTS (Testing, embedding)
+-- PY_FILES/                   PYTHON PROCESSING ENGINES
+-- RULES_FULL/                 PHILOSOPHER PERSONALITY RULES (JSON)
+-- database/ingest/            DROP FILES HERE FOR INGESTION
+-- logs/                       EMBEDDING AND PROCESSING LOGS
+-- [author]-texts/             RAW TEXT IMPORTS (staging folders)
+-- attached_assets/            USER-UPLOADED ASSETS
+-- public/                     STATIC ASSETS


================================================================================
CLIENT FOLDER - FRONTEND (React + TypeScript)
================================================================================

client/src/
|
+-- App.tsx
|   Main application component. Sets up routing, sidebar, theme provider.
|   Registers all pages and provides global layout structure.
|
+-- main.tsx
|   React entry point. Mounts App to DOM, initializes React Query.
|
+-- index.css
|   Global styles including dark mode variables, Tailwind customizations,
|   color themes, and animation utilities.
|
+-- components/
|   |
|   +-- audit-panel.tsx
|   |   Live audit panel that streams real-time RAG search events.
|   |   Shows queries executed, passages accepted/rejected, and evidence found.
|   |
|   +-- chat-input.tsx
|   |   Message input component with file upload support.
|   |   Handles user text input and document attachments.
|   |
|   +-- chat-message.tsx
|   |   Renders individual chat bubbles for user and philosopher messages.
|   |   Handles markdown rendering and streaming text display.
|   |
|   +-- figure-chat.tsx
|   |   Main philosopher conversation interface.
|   |   Manages chat state, SSE streaming, and conversation history.
|   |
|   +-- welcome-screen.tsx
|   |   Landing/welcome UI shown when no philosopher is selected.
|   |   Displays app description and getting started info.
|   |
|   +-- what-to-ask-modal.tsx
|   |   Modal showing suggested questions for each philosopher.
|   |   Pulls from topic files in client/src/data/.
|   |
|   +-- theme-toggle.tsx
|   |   Dark/light mode switch button component.
|   |
|   +-- thinking-panel.tsx
|   |   Visualization of AI "thinking" process during generation.
|   |
|   +-- comparison-modal.tsx
|   |   Compare responses from multiple philosophers side-by-side.
|   |
|   +-- goals-dialog.tsx
|   |   User goals and preferences dialog.
|   |
|   +-- persona-settings-dialog.tsx
|   |   Configure philosopher persona settings.
|   |
|   +-- bible-verse-card.tsx
|   |   Display biblical verses with styling.
|   |
|   +-- sections/
|   |   |
|   |   +-- debate-creator-section.tsx
|   |   |   Create debates between two or more philosophers.
|   |   |   Generates 1500-2500 word philosophical debates.
|   |   |
|   +-- dialogue-creator-section.tsx
|   |   Create multi-philosopher dialogues on chosen topics.
|   |
|   +-- interview-creator-section.tsx
|   |   Generate 500-10000 word interviews with philosophers.
|   |
|   +-- model-builder-section.tsx
|   |   Build custom philosopher models with specific traits.
|   |
|   +-- paper-writer-section.tsx
|   |   Generate academic papers (up to 1500 words) on topics.
|   |
|   +-- quote-generator-section.tsx
|   |   Extract and generate quotes from philosopher corpus.
|   |
|   +-- position-generator-section.tsx
|       Generate philosophical position statements.
|
|   +-- ui/
|       SHADCN UI COMPONENTS (50+ reusable components)
|       accordion.tsx, alert-dialog.tsx, avatar.tsx, badge.tsx,
|       button.tsx, card.tsx, dialog.tsx, dropdown-menu.tsx,
|       form.tsx, input.tsx, popover.tsx, scroll-area.tsx,
|       select.tsx, sidebar.tsx, tabs.tsx, toast.tsx, tooltip.tsx...
|
+-- data/
|   TOPIC SUGGESTIONS FOR EACH PHILOSOPHER (45+ files)
|   Each file exports suggested questions and discussion topics.
|   |
|   +-- kuczynski-topics.ts    Suggested questions for Kuczynski
|   +-- freud-topics.ts        Suggested questions for Freud
|   +-- jung-topics.ts         Suggested questions for Jung
|   +-- nietzsche-topics.ts    Suggested questions for Nietzsche
|   +-- plato-topics.ts        Suggested questions for Plato
|   +-- aristotle-topics.ts    Suggested questions for Aristotle
|   +-- kant-topics.ts         Suggested questions for Kant
|   +-- hume-topics.ts         Suggested questions for Hume
|   +-- marx-topics.ts         Suggested questions for Marx
|   +-- russell-topics.ts      Suggested questions for Russell
|   +-- [35+ more philosopher-topics.ts files]
|   +-- thinker-quotes.ts      Notable quotes by thinker
|
+-- hooks/
|   |
|   +-- useAuth.ts             Authentication state management hook
|   +-- use-toast.ts           Toast notification hook
|   +-- use-mobile.tsx         Mobile device detection hook
|
+-- lib/
|   |
|   +-- queryClient.ts         TanStack Query setup and configuration
|   +-- utils.ts               Utility functions (cn, formatting, etc.)
|   +-- authUtils.ts           Authentication helper functions
|
+-- pages/
    |
    +-- chat.tsx               Main chat page component
    +-- landing.tsx            Welcome landing page
    +-- model-builder.tsx      Model builder page
    +-- paper-writer.tsx       Paper writer page
    +-- not-found.tsx          404 error page


================================================================================
SERVER FOLDER - BACKEND (Express + Node.js)
================================================================================

server/
|
+-- index.ts
|   Server entry point. Starts Express server, registers routes,
|   initializes database connection.
|
+-- routes.ts
|   ALL API ENDPOINTS:
|   - POST /api/chat - Main philosopher chat
|   - GET /api/figures - List all philosophers
|   - GET /api/figures/:id - Get philosopher details
|   - POST /api/figures/:id/write-paper - Generate academic paper
|   - POST /api/figures/:id/generate-quote - Generate quotes
|   - POST /api/dialogue - Create multi-philosopher dialogue
|   - POST /api/interview - Create interview
|   - POST /api/debate - Create philosophical debate
|   - GET /api/search - Search corpus
|   - POST /api/arguments/import - Import structured arguments
|   - GET /api/arguments/stats - Argument statistics
|
+-- db.ts
|   PostgreSQL/Drizzle database connection.
|   Exports db instance and query helpers.
|
+-- storage.ts
|   Data storage interface and implementations.
|   CRUD operations for figures, conversations, etc.
|
+-- vite.ts
|   Vite dev server integration for frontend serving.
|
+-- CORE RAG SYSTEM FILES:
|   |
|   +-- vector-search.ts
|   |   SEMANTIC SEARCH ENGINE
|   |   Uses OpenAI embeddings + pgvector for similarity search.
|   |   Functions: searchChunks, searchPositions, searchQuotes.
|   |
|   +-- PhilosopherCoherenceService.ts
|   |   STRUCTURED AI RESPONSE GENERATION
|   |   Generates coherent philosopher responses using RAG.
|   |   Ensures authentic voice, proper citations, no disclaimers.
|   |
|   +-- prompt-builder.ts
|   |   SYSTEM PROMPT CONSTRUCTION
|   |   Builds prompts with philosopher personality, retrieved context,
|   |   and user preferences (dialogue mode, quote requirements).
|   |
|   +-- audited-search.ts
|   |   TRUTHFUL SEARCH SYSTEM
|   |   Finds 3 direct answers before responding.
|   |   Searches: positions -> quotes -> chunks in fixed order.
|   |
|   +-- audit-search.ts
|   |   Search audit logging and event streaming.
|   |
|   +-- paper-search.ts
|       Paper and document-specific search functions.
|
+-- STANDALONE DATABASES:
|   |
|   +-- nietzsche-db.ts
|   |   SQLite database with 706 Nietzsche positions.
|   |   Independent search API for Nietzsche content.
|   |
|   +-- plato-db.ts
|       SQLite database with 182 Plato positions.
|       Independent search API for Plato dialogues.
|
+-- EMBEDDING GENERATOR SCRIPTS (60+ files):
|   Generate OpenAI text-embedding-ada-002 embeddings for each author.
|   |
|   +-- generate-embeddings.ts        General embedding generator
|   +-- generate-jung-embeddings.ts   Generate Jung text embeddings
|   +-- generate-freud-embeddings.ts  Generate Freud text embeddings
|   +-- generate-kuczynski-embeddings.ts
|   +-- generate-nietzsche-embeddings.ts
|   +-- generate-plato-embeddings.ts
|   +-- generate-russell-embeddings.ts
|   +-- generate-kant-embeddings.ts
|   +-- generate-hume-embeddings.ts
|   +-- generate-marx-embeddings.ts
|   +-- generate-darwin-embeddings.ts
|   +-- [50+ more generate-*-embeddings.ts files]
|
+-- INGESTION SCRIPTS (20+ files):
|   Import and process raw text files into database.
|   |
|   +-- ingest.py                     Main Python ingestion script
|   +-- ingest-jung-complete.ts       Jung corpus ingestion
|   +-- ingest-nietzsche-complete.ts  Nietzsche corpus ingestion
|   +-- ingest-plato-complete.ts      Plato corpus ingestion
|   +-- ingest-russell-core-positions.ts
|   +-- ingest-kuczynski-v32.ts
|   +-- ingest-aristotle-complete.ts
|   +-- ingest-james-allen-complete.ts
|   +-- [12+ more ingest-*.ts files]
|
+-- OTHER UTILITY FILES:
|   |
|   +-- replitAuth.ts           Replit authentication integration
|   +-- internal-auth.ts        Internal auth helpers
|   +-- seed-figures.ts         Seed philosopher data
|   +-- author-assets-cache.ts  Cache author portrait assets
|   +-- bible-verses.ts         Biblical verse data
|   |
|   +-- CONVERSION SCRIPTS:
|   +-- convert-blog-essays.ts
|   +-- convert-college-papers.ts
|   +-- convert-freud-database.ts
|   +-- convert-kuczynski-v29.ts
|   +-- convert-rtf.cjs
|   |
|   +-- EXTRACTION SCRIPTS:
|   +-- extract-galileo-positions-incremental.ts
|   +-- extract-jung-positions.ts
|   +-- extract-nietzsche-positions-incremental.ts
|   +-- extract-russell-positions.ts
|   +-- extract-new-papers.ts
|
+-- data/
    RAW TEXT CORPORA ORGANIZED BY AUTHOR (35+ folders)
    |
    +-- kuczynski/              100+ Kuczynski text files
    |   00_Kuczynski.txt through 17_Kuczynski.txt
    |   Analytic Philosophy Complete.txt
    |   A Priori Knowledge and Other Philosophical Works.txt
    |   AI and Philosophy-1.txt
    |   [90+ more text files]
    |
    +-- freud/                  Freud complete works
    +-- jung/                   Jung psychology texts
    +-- nietzsche/              Nietzsche philosophy
    +-- russell/                Bertrand Russell works
    +-- plato/                  Plato dialogues
    +-- aristotle/              Aristotle works
    +-- kant/                   Kant critiques
    +-- hume/                   Hume empiricism
    +-- leibniz/                Leibniz monadology
    +-- newton/                 Newton principia
    +-- spinoza/                Spinoza ethics
    +-- descartes/              Descartes meditations
    +-- locke/                  Locke essays
    +-- berkeley/               Berkeley idealism
    +-- schopenhauer/           Schopenhauer will
    +-- smith/                  Adam Smith economics
    +-- marx/                   Marx capital
    +-- darwin/                 Darwin evolution
    +-- galileo/                Galileo dialogues
    +-- james/                  William James pragmatism
    +-- james-allen/            James Allen self-help
    +-- goldman/                Emma Goldman anarchism
    +-- reich/                  Wilhelm Reich
    +-- lebon/                  Gustave Le Bon crowd psychology
    +-- confucius/              Confucian analects
    +-- aesop/                  Aesop fables
    +-- [10+ more author folders]


================================================================================
SHARED FOLDER - DATABASE SCHEMAS
================================================================================

shared/
|
+-- schema.ts
|   DRIZZLE ORM DATABASE SCHEMA
|   Defines all database tables:
|   |
|   +-- figures         60+ philosopher profiles (id, name, era, portrait)
|   +-- chunks          130,000+ text chunks with embeddings (pgvector)
|   +-- positions       Philosophical position statements by thinker
|   +-- texts           Full-text documents before chunking
|   +-- paper_chunks    Paper-specific chunks with metadata
|   +-- thinker_quotes  Notable quotes by thinker with source
|   +-- argument_statements  Structured arguments (premises, conclusion)
|   +-- users           User accounts
|   +-- conversations   Chat history
|   +-- messages        Individual chat messages
|   +-- sessions        User sessions
|
+-- audit-types.ts
    Audit event type definitions for search logging.
    Defines: AuditEvent, SearchResult, EvidenceItem types.


================================================================================
SCRIPTS FOLDER - UTILITY SCRIPTS
================================================================================

scripts/
|
+-- embed-from-texts-table.ts
|   MAIN EMBEDDING SCRIPT
|   Reads texts from 'texts' table, chunks them, generates OpenAI
|   embeddings, inserts into 'chunks' table with vector embeddings.
|   Usage: npx tsx scripts/embed-from-texts-table.ts <thinker-name>
|
+-- strict-embed-authors.ts
|   Author-isolated embedding with cross-contamination checks.
|   Logs all embedding operations, flags suspicious content.
|   Usage: npx tsx scripts/strict-embed-authors.ts <author-folder>
|
+-- chunk-and-insert.ts
|   Text chunking utility without embedding.
|   Splits text files into ~500-word chunks for processing.
|
+-- import-positions.ts
|   Import philosophical positions from JSON files.
|
+-- import-text-chunks.ts
|   Import pre-chunked text into database.
|
+-- test-paper-writer-all.ts
|   Test paper writer for all 60+ philosophers.
|   Generates test papers and reports success/failure.
|
+-- test-single.ts
|   Test single philosopher paper generation.
|
+-- run-paper-tests.ts
|   Batch paper generation testing.
|
+-- run-all-tests.sh
|   Shell script to run all test suites.
|
+-- ingest_generic_text.py
|   Python script for generic text ingestion.
|
+-- paper-writer-tests/
|   Test output files from paper writer tests.
|
+-- shared/
    Shared utilities for scripts.


================================================================================
PY_FILES FOLDER - PYTHON PROCESSING ENGINES
================================================================================

PY_FILES/
|
+-- kuczynski_engine.py
|   Kuczynski text processing and analysis.
|   Specialized NLP for Kuczynski's writing style.
|
+-- freud_engine.py
|   Freud text processing and psychoanalytic term extraction.
|
+-- nietzsche_engine.py
|   Nietzsche text processing with aphorism detection.
|
+-- adler_engine.py
|   Alfred Adler individual psychology processing.
|
+-- aesop_engine.py
|   Aesop fables processing with moral extraction.
|
+-- bergler_engine.py
|   Edmund Bergler text processing.
|
+-- hume_engine.py
|   David Hume empiricism text processing.
|
+-- ingest.py
|   MAIN PYTHON INGESTION SCRIPT
|   Processes files from database/ingest/ folder.
|   Handles .txt, .md, .doc, .docx, .pdf formats.
|
+-- app.py
    Flask app for Python-based processing endpoints.


================================================================================
RULES_FULL FOLDER - PHILOSOPHER PERSONALITY RULES
================================================================================

RULES_FULL/
|
+-- kuczynski_rules_full.json
|   Kuczynski response rules: writing style, vocabulary,
|   key themes, citation preferences.
|
+-- freud_rules_full.json
|   Freud response rules: psychoanalytic terminology,
|   case study style, interpretation patterns.
|
+-- nietzsche_rules_full.json
|   Nietzsche response rules: aphoristic style,
|   Zarathustra voice, will to power themes.
|
+-- adler_rules_full.json
|   Adler response rules: individual psychology focus,
|   inferiority complex discussion.
|
+-- aesop_rules_full.json
|   Aesop response rules: fable format, moral lessons.
|
+-- bergler_rules_full.json
|   Bergler response rules: psychoanalytic approach.
|
+-- hume_rules_full.json
    Hume response rules: empiricist reasoning,
    skeptical inquiry, causation analysis.


================================================================================
OTHER TOP-LEVEL FOLDERS
================================================================================

database/
+-- ingest/
    DROP FILES HERE FOR INGESTION
    Place .txt, .md, .doc, .docx, .pdf files here.
    Run server/ingest.py to process.

logs/
    EMBEDDING AND PROCESSING LOGS
    Contains detailed logs from embedding operations,
    including files processed, chunks created, errors.

[author]-texts/               RAW TEXT IMPORTS (staging folders)
    jung-texts/               Jung texts to be processed
    freud-texts/              Freud texts to be processed
    darwin-texts/             Darwin texts to be processed
    schopenhauer-texts/       Schopenhauer texts
    gibbon-texts/             Gibbon texts
    lebon-texts/              Le Bon texts
    maimonides-texts/         Maimonides texts
    dewey-texts/              Dewey texts
    bacon-texts/              Francis Bacon texts
    lenin-texts/              Lenin texts
    [more staging folders]

attached_assets/
    User-uploaded files and generated assets.

public/
    Static assets served directly (favicon, etc.)

corpora/
    Additional corpus files.

author_database/
    Legacy author database files.

config/
    Configuration files.

docs/
    Project documentation.

data/
    Miscellaneous data files.

rules/
    Legacy rules files.


================================================================================
CONFIG FILES (ROOT DIRECTORY)
================================================================================

package.json          Node.js dependencies and scripts
tsconfig.json         TypeScript compiler configuration
vite.config.ts        Vite bundler configuration
tailwind.config.ts    Tailwind CSS configuration
drizzle.config.ts     Drizzle ORM configuration
postcss.config.js     PostCSS configuration
components.json       Shadcn UI component configuration
replit.md             Project documentation and preferences
.gitignore            Git ignore patterns


================================================================================
DATABASE STRUCTURE (PostgreSQL with pgvector)
================================================================================

TABLE: figures
    - id (varchar, primary key)
    - name (text) - Full philosopher name
    - shortName (text) - Display name (usually last name)
    - era (text) - Historical era
    - description (text) - Brief bio
    - portrait (text) - Portrait image URL
    - specialties (text array) - Areas of expertise
    - sampleQuestions (text array) - Example questions

TABLE: chunks (130,000+ rows)
    - id (uuid, primary key)
    - thinker (text) - Author name
    - source_text_id (uuid) - Reference to texts table
    - chunk_index (integer) - Position in source
    - chunk_text (text) - Actual text content
    - embedding (vector 1536) - OpenAI embedding for semantic search

TABLE: positions
    - id (uuid, primary key)
    - thinker (text) - Philosopher name
    - position (text) - Position statement
    - source (text) - Source document
    - embedding (vector 1536) - Semantic search embedding

TABLE: texts
    - id (uuid, primary key)
    - thinker (text) - Author name
    - title (text) - Document title
    - content (text) - Full text content
    - created_at (timestamp)

TABLE: paper_chunks
    - id (serial, primary key)
    - figureId (text) - Philosopher ID
    - paperTitle (text) - Source paper title
    - content (text) - Chunk content
    - embedding (vector 1536)
    - chunkIndex (integer)
    - significance (text) - Content type marker

TABLE: thinker_quotes
    - id (uuid, primary key)
    - thinker (text) - Philosopher name
    - quote (text) - Quote text
    - source (text) - Source document
    - embedding (vector 1536)

TABLE: argument_statements
    - id (uuid, primary key)
    - thinker (text) - Philosopher name
    - argument_type (text) - deductive/causal/analogical/etc.
    - premises (text array) - Argument premises
    - conclusion (text) - Argument conclusion
    - source_section (text)
    - source_document (text)
    - importance (integer 1-10)
    - counterarguments (text array, optional)
    - embedding (vector 1536)

TABLE: users
    - id (serial, primary key)
    - username (text, unique)
    - created_at (timestamp)

TABLE: conversations
    - id (uuid, primary key)
    - userId (integer, foreign key)
    - figureId (text)
    - title (text)
    - created_at (timestamp)
    - updated_at (timestamp)

TABLE: messages
    - id (uuid, primary key)
    - conversationId (uuid, foreign key)
    - role (text) - user/assistant
    - content (text)
    - created_at (timestamp)


================================================================================
DATABASE CONTENT SUMMARY BY AUTHOR
================================================================================

Author               Chunks      Positions   Quotes    Arguments
-----------------------------------------------------------------
Kuczynski           16,000+     500+        200+      100+
Russell              7,000+     300+        150+       50+
Freud                6,000+     200+        100+       40+
Hegel                5,300+     150+         80+       30+
Hume                 4,000+     180+         90+       35+
Plato                3,700+     182          70+       25+
Nietzsche            3,000+     706         120+       45+
William James        3,000+     150+         60+       20+
Leibniz              2,900+     120+         50+       15+
Aristotle            2,800+     100+         40+       20+
Schopenhauer         2,800+     100+         50+       15+
Newton               2,700+      80+         30+       10+
Whewell              2,400+      60+         20+        5+
Reich                2,200+      90+         40+       15+
Voltaire             2,200+      70+         30+       10+
Poe                  2,200+      50+         25+        5+
Dewey                2,100+     100+         35+       15+
Veblen               2,100+      60+         20+       10+
Mises                1,900+      80+         30+       15+
Rousseau             1,900+      70+         25+       10+
Galileo              1,800+      60+         20+       10+
Kant                 1,200+      90+         40+       20+
Berkeley             1,100+      50+         20+       10+
Tocqueville          1,000+      40+         15+        5+
Smith                1,000+      60+         25+       15+
Spinoza                800+      70+         30+       15+
Jung                   100+      50+         30+       20+  (GROWING)
[35+ more authors with varying content]


================================================================================
API ENDPOINTS QUICK REFERENCE
================================================================================

GET  /api/figures                    List all 60+ philosophers
GET  /api/figures/:id                Get philosopher details
POST /api/chat                       Main chat with streaming SSE
POST /api/figures/:id/write-paper    Generate academic paper (SSE)
POST /api/figures/:id/generate-quote Generate quotes from corpus
POST /api/dialogue                   Create multi-philosopher dialogue
POST /api/interview                  Create philosopher interview
POST /api/debate                     Create philosophical debate
GET  /api/search                     Search philosopher corpus
POST /api/arguments/import           Import structured arguments
GET  /api/arguments/stats            Get argument statistics
GET  /api/arguments/:thinker         Get arguments by thinker
POST /api/upload                     Upload document for analysis
GET  /api/users/:username            Get/create user
GET  /api/conversations/:userId      Get user conversations
POST /api/conversations              Create new conversation


================================================================================
KEY SCRIPT COMMANDS
================================================================================

# Generate embeddings for a specific author's texts
npx tsx scripts/embed-from-texts-table.ts jung

# Run strict author-isolated embedding with logging
npx tsx scripts/strict-embed-authors.ts kuczynski

# Test paper writer for all philosophers
npx tsx scripts/test-paper-writer-all.ts

# Test single philosopher paper generation
npx tsx scripts/test-single.ts freud

# Chunk and insert text without embeddings
npx tsx scripts/chunk-and-insert.ts /path/to/file.txt "Author Name"

# Run Python ingestion for files in database/ingest/
python PY_FILES/ingest.py


================================================================================
MODEL MAPPING
================================================================================

ZHI 1 = OpenAI GPT-4o
ZHI 2 = Anthropic Claude Sonnet 4.5
ZHI 3 = DeepSeek
ZHI 4 = Perplexity
ZHI 5 = Grok (DEFAULT)


================================================================================
END OF FILE TREE DOCUMENTATION
================================================================================
